## 싱글톤 만드는 규칙  

1. 생성자는 **private**
   
2. 오직 1개의 객체를 만들어서 반환하는 static member 함수

3. 복사 생성자,대입연산자 -> **delete**

## 장점
- 단일 인스턴스를 보장하며,해당 객체에 대한 **접근 역시 하나로 통일** -> 객체에 대한 접근 제어가 용이함
&nbsp;
## 단점

- 결국 **전역변수와 유사**하여, 멀티스레드 환경에서의 문제가 발생함

- 객체 간의 결합도를 높여서 재사용성이 줄어든다.
&nbsp;
## 주의 : 힙에 생성하는 DCLP 싱글톤 패턴 (리오더링 버그로 사용 금지)
&nbsp;
```cpp

static cursur& getInstance(){
  m.lock()

 if(instance == nullptr)
    instance = new cursur; // 객체 생성 시간이 길 경우 : 리오더링으로 주소 먼저 할당이 되어, 생성되지 않은 객체의 주소를 반환할 위험이 있음

  m.unlock();

  return *instance;

}

```
&nbsp;
## static 지역변수로 객체를 만드는 Mayer의 싱글톤의 이점

- 지연된 초기화
  
- 멀티스레드에 안전함(멀티 스레드 환경에서 단 하나의 객체 생성만을 보장해줌)
  - c++은 **생성자 호출에 안전**하므로, 싱글톤 객체를 만들기 위한 생성자 호출 시 다른 스레드들은 자동 대기  
    
